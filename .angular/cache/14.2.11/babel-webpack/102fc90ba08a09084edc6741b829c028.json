{"ast":null,"code":"\"use strict\";\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar __metadata = this && this.__metadata || function (k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AdminLayoutComponent = void 0;\n\nconst core_1 = require(\"@angular/core\");\n\nconst common_1 = require(\"@angular/common\");\n\nconst router_1 = require(\"@angular/router\");\n\nconst perfect_scrollbar_1 = require(\"perfect-scrollbar\");\n\nconst rxjs_1 = require(\"rxjs\");\n\nlet AdminLayoutComponent = class AdminLayoutComponent {\n  constructor(location, router) {\n    this.location = location;\n    this.router = router;\n    this.yScrollStack = [];\n  }\n\n  ngOnInit() {\n    console.log(this.router);\n    const isWindows = navigator.platform.indexOf('Win') > -1 ? true : false;\n\n    if (isWindows) {\n      // if we are on windows OS we activate the perfectScrollbar function\n      document.getElementsByTagName('body')[0].classList.add('perfect-scrollbar-on');\n    } else {\n      document.getElementsByTagName('body')[0].classList.remove('perfect-scrollbar-off');\n    }\n\n    const elemMainPanel = document.querySelector('.main-panel');\n    const elemSidebar = document.querySelector('.sidebar .sidebar-wrapper');\n    this.location.subscribe(ev => {\n      this.lastPoppedUrl = ev.url;\n    });\n    this.router.events.subscribe(event => {\n      if (event instanceof router_1.NavigationStart) {\n        if (event.url != this.lastPoppedUrl) this.yScrollStack.push(window.scrollY);\n      } else if (event instanceof router_1.NavigationEnd) {\n        if (event.url == this.lastPoppedUrl) {\n          this.lastPoppedUrl = undefined;\n          window.scrollTo(0, this.yScrollStack.pop());\n        } else window.scrollTo(0, 0);\n      }\n    });\n    this._router = this.router.events.pipe((0, rxjs_1.filter)(event => event instanceof router_1.NavigationEnd)).subscribe(event => {\n      elemMainPanel.scrollTop = 0;\n      elemSidebar.scrollTop = 0;\n    });\n\n    if (window.matchMedia(`(min-width: 960px)`).matches && !this.isMac()) {\n      let ps = new perfect_scrollbar_1.default(elemMainPanel);\n      ps = new perfect_scrollbar_1.default(elemSidebar);\n    }\n  }\n\n  ngAfterViewInit() {\n    this.runOnRouteChange();\n  }\n\n  isMap(path) {\n    var titlee = this.location.prepareExternalUrl(this.location.path());\n    titlee = titlee.slice(1);\n\n    if (path == titlee) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  runOnRouteChange() {\n    if (window.matchMedia(`(min-width: 960px)`).matches && !this.isMac()) {\n      const elemMainPanel = document.querySelector('.main-panel');\n      const ps = new perfect_scrollbar_1.default(elemMainPanel);\n      ps.update();\n    }\n  }\n\n  isMac() {\n    let bool = false;\n\n    if (navigator.platform.toUpperCase().indexOf('MAC') >= 0 || navigator.platform.toUpperCase().indexOf('IPAD') >= 0) {\n      bool = true;\n    }\n\n    return bool;\n  }\n\n};\nAdminLayoutComponent = __decorate([(0, core_1.Component)({\n  selector: 'app-admin-layout',\n  templateUrl: './admin-layout.component.html',\n  styleUrls: ['./admin-layout.component.scss']\n}), __metadata(\"design:paramtypes\", [common_1.Location, router_1.Router])], AdminLayoutComponent);\nexports.AdminLayoutComponent = AdminLayoutComponent;","map":null,"metadata":{},"sourceType":"script"}